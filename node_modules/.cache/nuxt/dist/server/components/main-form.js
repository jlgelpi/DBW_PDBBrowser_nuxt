exports.ids = [1];
exports.modules = {

/***/ 28:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/mainForm.vue?vue&type=template&id=257b2131&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{"id":"mainForm"}},[_vm._ssrNode("<div class=\"row\" style=\"border-bottom: solid 1px\"><div class=\"form-group\"><label><b>PDB Id</b></label> <input type=\"text\" name=\"idCode\" size=\"5\" maxlength=\"4\" placeholder=\"PDB Code\""+(_vm._ssrAttr("value",(_vm.idCode)))+"></div></div> <div class=\"row\"><h3>Search fields</h3></div> <div class=\"row\"><div class=\"col-md-4\"><div class=\"form-group\"><label><b>Resolution:</b></label> <p>                    \n                    From <input type=\"text\" name=\"minRes\" size=\"5\""+(_vm._ssrAttr("value",(_vm.inputData.minRes)))+">\n                    to <input type=\"text\" name=\"maxRes\" size=\"5\""+(_vm._ssrAttr("value",(_vm.inputData.maxRes)))+"></p></div></div></div> <div class=\"row\"><div class=\"col-md-4\"><div class=\"form-group\"><label>Compound Type:</label> <div class=\"form-check\">"+(_vm._ssrList((_vm.compTypes),function(comp,index){return ("<div style=\"display:block\"><input type=\"checkbox\""+(_vm._ssrAttr("id",index))+(_vm._ssrAttr("value",index))+(_vm._ssrAttr("checked",Array.isArray(_vm.checkedComps)?_vm._i(_vm.checkedComps,index)>-1:(_vm.checkedComps)))+" class=\"form-check-input\">"+_vm._ssrEscape(" "+_vm._s(comp)+"\n                    ")+"</div>")}))+"</div></div></div></div> <div class=\"row\"><div class=\"col-md-4\"><div class=\"form-group\"><label>Exp. Type:</label> <div class=\"form-check\">"+(_vm._ssrList((_vm.expClasses),function(exp,index){return ("<div><input type=\"checkbox\""+(_vm._ssrAttr("id",index))+(_vm._ssrAttr("value",index))+(_vm._ssrAttr("checked",Array.isArray(_vm.checkedExp)?_vm._i(_vm.checkedExp,index)>-1:(_vm.checkedExp)))+" class=\"form-check-input\">"+_vm._ssrEscape(" "+_vm._s(exp)+"\n                    ")+"</div>")}))+"</div></div></div></div> <div class=\"row\" style=\"border-bottom: 1px solid\"><div class=\"col-md-6\"><label><b>Free Text Search</b></label> <div class=\"form-group\"><input type=\"text\" name=\"query\""+(_vm._ssrAttr("value",(_vm.inputData.query)))+" style=\"width:100%\"></div></div></div> <div class=\"row\" style=\"border-bottom: 1px solid\"><div class=\"col-md-6\"><label><h4>Sequence search</h4></label> <div class=\"form-group\"><textarea name=\"seqQuery\" rows=\"4\" cols=\"60\" class=\"form-control\" style=\"width:100%\">"+_vm._ssrEscape(_vm._s(_vm.seqQuery))+"</textarea><br>\n                Upload sequence file: <input type=\"file\" name=\"seqFile\" width=\"50\" style=\"width:100%\"></div></div></div> <div class=\"row\"><p><button class=\"btn btn-primary\">Submit</button> <button class=\"btn btn-primary\">Reset</button></p></div>")])}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/mainForm.vue?vue&type=template&id=257b2131&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/mainForm.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var mainFormvue_type_script_lang_js_ = ({
  data() {
    return {
      idCode: '',
      minRes: '0.0',
      maxRes: 'Inf',
      query: '',
      seqQuery: '',
      compTypes: [],
      expClasses: []
    };
  },

  methods: {
    submit() {
      if (this.idCode) {
        this.$router.push({
          "path": "/show?id=" + this.idCode
        });
      } else if (this.seqQuery) {
        this.$router.push({
          "path": "/blast?query=" + this.seqQuery
        });
      } else {
        this.$router.push({
          "path": "/search?query=" + this
        });
      }
    },

    reset() {
      this.idCode = '';
      this.minRes = '0.0';
      this.maxRes = 'Inf';
      this.query = '';
      this.seqQuery = '';
      this.checkedComps = [];
      this.checkedExp = [];
    },

    async getFile(e) {
      const file = e.target.files[0];
      if (!file) return;

      const readData = f => new Promise(resolve => {
        const reader = new FileReader();

        reader.onloadend = () => resolve(reader.result);

        reader.readAsBinaryString(f);
      });

      this.seqQuery = await readData(file);
    }

  },

  async fetch() {
    const response = await fetch('http://mmb.irbbarcelona.org/formacio/~dbw00/PDBBrowser/api/?glob');

    if (response.ok) {
      const pdbInfo = await response.json();
      this.compTypes = pdbInfo.compType;
      this.expClasses = pdbInfo.expClasse;
    }
  }

});
// CONCATENATED MODULE: ./components/mainForm.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_mainFormvue_type_script_lang_js_ = (mainFormvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./components/mainForm.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_mainFormvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "38ffdc01"
  
)

/* harmony default export */ var mainForm = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=main-form.js.map